# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ —Ñ–æ—Ç–æ

–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ –≤ –∫–æ–¥–µ –±–æ—Ç–∞: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è `bot.token` –≤–º–µ—Å—Ç–æ `BOT_TOKEN`.

---

## –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

1. **–°—Ç—Ä–æ–∫–∞ 35:** –ó–∞–º–µ–Ω–µ–Ω–æ `bot.token` –Ω–∞ `BOT_TOKEN`
2. **–°—Ç—Ä–æ–∫–∞ 45:** –ó–∞–º–µ–Ω–µ–Ω–æ `startapp` –Ω–∞ `start_param` (–¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º)
3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:** –î–æ–±–∞–≤–ª–µ–Ω –≤—ã–≤–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –æ—à–∏–±–∫–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

---

## –®–∞–≥ 1: –û–±–Ω–æ–≤–∏ —Ñ–∞–π–ª bot.py –≤ GitHub

1. –û—Ç–∫—Ä–æ–π GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π `tg-wishlist-backend-bot`
2. –û—Ç–∫—Ä–æ–π —Ñ–∞–π–ª `bot.py`
3. –ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–∫–∞—Ä–∞–Ω–¥–∞—à)
4. –ó–∞–º–µ–Ω–∏ –≤–µ—Å—å –∫–æ–¥ –Ω–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é:

```python
import telebot
from telebot import types
import urllib.parse
import os

BOT_TOKEN = os.getenv('BOT_TOKEN')
WEB_APP_URL = os.getenv('WEB_APP_URL', 'https://your-app.netlify.app')

if not BOT_TOKEN:
    print("–û–®–ò–ë–ö–ê: BOT_TOKEN –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!")
    exit(1)

bot = telebot.TeleBot(BOT_TOKEN)

@bot.message_handler(commands=['start'])
def start(message):
    bot.reply_to(message, 
        "–ü—Ä–∏–≤–µ—Ç! üëã\n\n"
        "–û—Ç–ø—Ä–∞–≤—å –º–Ω–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é —Ç–æ–≤–∞—Ä–∞, –∏ —è –ø–æ–º–æ–≥—É —Å–æ–∑–¥–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É –∂–µ–ª–∞–Ω–∏—è.\n\n"
        "–ü—Ä–æ—Å—Ç–æ –æ—Ç–ø—Ä–∞–≤—å —Ñ–æ—Ç–æ ‚Äî —è –æ—Ç–∫—Ä–æ—é –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞.")

@bot.message_handler(content_types=['photo'])
def handle_photo(message):
    try:
        photo = message.photo[-1]
        file_id = photo.file_id
        
        file_info = bot.get_file(file_id)
        file_path = file_info.file_path
        
        file_url = f"https://api.telegram.org/file/bot{BOT_TOKEN}/{file_path}"
        
        encoded_url = urllib.parse.quote(file_url, safe='')
        start_param = f"img_url_{encoded_url}"
        
        keyboard = types.InlineKeyboardMarkup()
        button = types.InlineKeyboardButton(
            text="üì∏ –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ",
            web_app=types.WebAppInfo(url=f"{WEB_APP_URL}?start_param={start_param}")
        )
        keyboard.add(button)
        
        bot.reply_to(message, 
            "–û—Ç–∫—Ä—ã–≤–∞—é –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è...\n\n"
            "–ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ üëá",
            reply_markup=keyboard
        )
    except Exception as e:
        error_msg = str(e)
        print(f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ —Ñ–æ—Ç–æ: {error_msg}")
        bot.reply_to(message, f"–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞: {error_msg}. –ü–æ–ø—Ä–æ–±—É–π –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ –µ—â–µ —Ä–∞–∑.")

@bot.message_handler(func=lambda message: True)
def handle_all(message):
    bot.reply_to(message, 
        "–û—Ç–ø—Ä–∞–≤—å –º–Ω–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—é —Ç–æ–≤–∞—Ä–∞, –∏ —è –ø–æ–º–æ–≥—É —Å–æ–∑–¥–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É –∂–µ–ª–∞–Ω–∏—è! üì∏"
    )

if __name__ == '__main__':
    print("–ë–æ—Ç –∑–∞–ø—É—â–µ–Ω!")
    print(f"WEB_APP_URL: {WEB_APP_URL}")
    bot.polling(none_stop=True)
```

5. –í–Ω–∏–∑—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–∞–∂–º–∏ **"Commit changes"**

---

## –®–∞–≥ 2: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ –¥–µ–ø–ª–æ–π

1. –í Railway –æ—Ç–∫—Ä–æ–π **Deployments**
2. –í—ã–±–µ—Ä–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–ø–ª–æ–π
3. –ù–∞–∂–º–∏ **"Redeploy"**
4. –ü–æ–¥–æ–∂–¥–∏ 1-2 –º–∏–Ω—É—Ç—ã

---

## –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ (–µ—Å–ª–∏ –≤—Å—ë —Ä–∞–≤–Ω–æ –æ—à–∏–±–∫–∞)

1. –í Railway –æ—Ç–∫—Ä–æ–π **Logs**
2. –û—Ç–ø—Ä–∞–≤—å —Ñ–æ—Ç–æ –±–æ—Ç—É
3. –ü–æ—Å–º–æ—Ç—Ä–∏, –∫–∞–∫–∞—è –æ—à–∏–±–∫–∞ –ø–æ—è–≤–∏–ª–∞—Å—å –≤ –ª–æ–≥–∞—Ö
4. –°–æ–æ–±—â–∏ –º–Ω–µ —Ç–æ—á–Ω—É—é –æ—à–∏–±–∫—É ‚Äî –ø–æ–º–æ–≥—É –∏—Å–ø—Ä–∞–≤–∏—Ç—å

---

## –®–∞–≥ 4: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π –±–æ—Ç–∞

1. –û—Ç–∫—Ä–æ–π Telegram
2. –û—Ç–ø—Ä–∞–≤—å –±–æ—Ç—É —Ñ–æ—Ç–æ
3. –î–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –∫–Ω–æ–ø–∫–∞ "üì∏ –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ"
4. –ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É ‚Äî –¥–æ–ª–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å—Å—è –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

---

## –û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:

- **–ë—ã–ª–æ:** `bot.token` (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ)
- **–°—Ç–∞–ª–æ:** `BOT_TOKEN` (–ø—Ä–∞–≤–∏–ª—å–Ω–æ)

- **–ë—ã–ª–æ:** `startapp` (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ)
- **–°—Ç–∞–ª–æ:** `start_param` (–ø—Ä–∞–≤–∏–ª—å–Ω–æ)

–¢–µ–ø–µ—Ä—å –±–æ—Ç –¥–æ–ª–∂–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ñ–æ—Ç–æ!
